<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 2: Venus</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js" integrity="sha512-uaz5GpnQoE6t5echKlX8P52czvsIGgLPcvlzfvRubLZ1Hp8JemUDnbUiAahbVtPb+jUVrNETuXvAhDDF/N3M4w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://unpkg.com/p5.collide2d"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/addons/p5.sound.js" integrity="sha512-TU9AWtV5uUZPX8dbBAH8NQF1tSdigPRRT82vllAQ1Ke28puiqLA6ZVKxtUGlgrH6yWFnkKy+sE6luNEGH9ar0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&display=swap" rel="stylesheet">


    <!-- CSS -->
    <style>
        body {
            margin: 0px;
            padding: 0px;
            background-image: url("Venus Game Space Background.png");
            overflow: hidden;
        }

    </style>


</head>
<body>
    
    <script> 
        w = window.innerWidth
        h = window.innerHeight


        // ---


        // Character's values
        let astronautPlayer

        // Character's X and Y position
        var cX = (w/2)
        var cY = (0.755 * h)
    
        // Character's width & height
        var cW = (0.035 * w)
        var cH = (0.075 * h)


        // Left Side NPC's values
        // Left Side NPC (Left of the left side)
        let leftVenusLNPC

        // X and Y position
        var lVLX = (1/11 * w)
        var lVLY = (0.095 * h)
        
        // Width & height 
        var lVLW = (0.035 * w)
        var lVLH = (0.075 * h)


        // See if they pressed the NPC (Left Side) or not
        var trackLeftLNPC = 0 

        // Right Side NPC (Right of the left side)
        let leftVenusRNPC 
        
        // X and Y position
        var lVRX = (1/2.3 * w)
        var lVRY = (0.095 * h)
        
        // Width & height 
        var lVRW = (0.035 * w)
        var lVRH = (0.075 * h)

        // See if they pressed the NPC (Left Side) or not
        var trackLeftRNPC = 0 


        // ---
        
        // Right Side NPC's values
        // Right Side NPC (Left of the right side)
        let rightVenusLNPC

        // X and Y position
        var rVLX = (1/1.75 * w)
        var rVLY = (0.095 * h)
        
        // Width & height 
        var rVLW = (0.035 * w)
        var rVLH = (0.075 * h)


        // See if they pressed the NPC (Right Side) or not
        var trackRightLNPC = 0 

        // Right Side NPC (Right of the right side)
        let rightVenusRNPC 
        
        // X and Y position
        var rVRX = (1/1.07 * w)
        var rVRY = (0.095 * h)
        
        // Width & height 
        var rVRW = (0.035 * w)
        var rVRH = (0.075 * h)

        // See if they pressed the NPC (Right Side) or not
        var trackRightRNPC = 0 


        // ---
        

        // Gravity Value

        // If we're jumping or not
        var jump = false
        // Gravity
        var gravityValue = 0.9
        // Velocity/Player Speed
        var velocity = 5
        // How high you want to jump
        var lift = -12
        // Falling speed
        var fallSpeed = 5


        // ---
        

        // Track jumps
        var jumpTracker = 0 


        // ---


        // Settings value
        var settingsTracker = 0


        // ---



        // PLATFORM VALUES

        // Ground rectangle (starting platform)
        var sPX = 0
        var sPY = (0.83 * h)
        var sPW = (w)
        var sPH = (0.17 * h)

        // Platform 1.1 (Left Side)
        var p1_1X = (1/2.75 * w)
        var p1_1Y = (0.71 * h)
        var p1_1W = (0.1 * w)
        var p1_1H = (0.017 * h)

        // Platform 1.2 
        var p1_2X = (1/4.5 * w)
        var p1_2Y = (0.62 * h)
        var p1_2W = (0.1 * w)
        var p1_2H = (0.017 * h)

        // Platform 1.3
        var p1_3X = (1/11 * w)
        var p1_3Y = (0.53 * h)
        var p1_3W = (0.1 * w)
        var p1_3H = (0.017 * h)

        // Platform 1.4
        var p1_4X = (1/4.5 * w)
        var p1_4Y = (0.44 * h)
        var p1_4W = (0.1 * w)
        var p1_4H = (0.017 * h)

        // Platform 1T (Containing token #1)
        var p1TX = (1/11 * w)
        var p1TY = (0.35 * h)
        var p1TW = (0.08 * w)
        var p1TH = (0.017 * h)

        // Platform 1.5
        var p1_5X = (1/2.75 * w)
        var p1_5Y = (0.35 * h)
        var p1_5W = (0.1 * w)
        var p1_5H = (0.017 * h)

        // Platform 1.6
        var p1_6X = (1/4.5 * w)
        var p1_6Y = (0.26 * h)
        var p1_6W = (0.1 * w)
        var p1_6H = (0.017 * h)

        // Platform 1.6L (Platform containing left NPC of the left side)
        var p1_6LX = (1/11 * w)
        var p1_6LY = (0.17 * h)
        var p1_6LW = (0.1 * w)
        var p1_6LH = (0.017 * h)

        // Platform 1.6R (Platform containing right NPC of the left ride)
        var p1_6RX = (1/2.75 * w)
        var p1_6RY = (0.17 * h)
        var p1_6RW = (0.1 * w)
        var p1_6RH = (0.017 * h)

        // Platform 2.1 (Right Side)
        var p2_1X = (1/1.75 * w)
        var p2_1Y = (0.71 * h)
        var p2_1W = (0.1 * w)
        var p2_1H = (0.017 * h)


        // Platform 2.2 
        var p2_2X = (1/1.375 * w)
        var p2_2Y = (0.62 * h)
        var p2_2W = (0.1 * w)
        var p2_2H = (0.017 * h)

        // Platform 2.3
        var p2_3X = (1/1.15 * w)
        var p2_3Y = (0.53 * h)
        var p2_3W = (0.1 * w)
        var p2_3H = (0.017 * h)

        // Platform 2.4 
        var p2_4X = (1/1.375 * w)
        var p2_4Y = (0.44 * h)
        var p2_4W = (0.1 * w)
        var p2_4H = (0.017 * h)

        // Platform 2T (Containing token #2)
        var p2TX = (1/1.15 * w)
        var p2TY = (0.35 * h)
        var p2TW = (0.08 * w)
        var p2TH = (0.017 * h)
        
        // Platform 2.5
        var p2_5X = (1/1.75 * w)
        var p2_5Y = (0.35 * h)
        var p2_5W = (0.1 * w)
        var p2_5H = (0.017 * h)

        // Platform 2.6
        var p2_6X = (1/1.375 * w)
        var p2_6Y = (0.26 * h)
        var p2_6W = (0.1 * w)
        var p2_6H = (0.017 * h)

        // Platform 2.6L (Platform containing left NPC of the right side)
        var p2_6LX = (1/1.75 * w)
        var p2_6LY = (0.17 * h)
        var p2_6LW = (0.1 * w)
        var p2_6LH = (0.017 * h)

        // Platform 2.6R (Platform containing right NPC of the right ride)
        var p2_6RX = (1/1.15 * w)
        var p2_6RY = (0.17 * h)
        var p2_6RW = (0.1 * w)
        var p2_6RH = (0.017 * h)


        // ---


        // TOKEN VALUES

        // Token 1
        var t1X = (1/9.5 * w)
        var t1Y = (0.325 * h)
        var t1D = (50)
        // Token 1's collision
        var hitToken1 = false
        var hitToken1Tracker = 0


        // Token 2
        var t2X = (1/1.07 * w)
        var t2Y = (0.325 * h)
        var t2D = (50)
        // Token 2's collison
        var hitToken2 = false
        var hitToken2Tracker = 0 

        // TOKEN EFFECTS 
        // BUFFS

        // Array for the token effects 
        const tokenEffectsArr = ["controlDebuff","tpDebuff","jumpDebuff","nothing","controlBuff","jumpBuff"]

        // Var for if they have reversed controls
        var debuffControl = false


        // ---


        function gravity() {
            // Stop the character from falling down when it's at the ground and if they're not jumping
            if (cY + cH >= sPY && jump == false) {
                cY = cY
                // Reset the jump tracker when they hit the ground
                jumpTracker = 0
            }
            // Make the character fall down if it's not on the ground 
            else {
                cY = cY + (gravityValue * velocity)
            }
            // If the character pressed spacebar/jumped
            if (jump == true) {
                // Prevent the player from jumping above the screen
                if (cY <= 0 || jumpTracker >= -lift) {
                    // Stop the player from going below the ground when they're holding spacebar (GLITCH)
                    if (cY + cH >= sPY) {
                        cY = cY
                        velocity = 0
                    }
                    else {
                        velocity = fallSpeed 
                    }
                }
                // Allow the player to jump
                else {
                    velocity = lift
                    // Add 1 to the jump tracker
                    jumpTracker += 1
                }
            } 
            else {
                velocity = fallSpeed
            }
            // Prevent the character from leaving the screen
            if (cX <= 0) {
                cX = 0
            }
            if (cX + cW >= w) {
                cX = w - cW
            }
        }   

        function jumpUp() {
            if (keyIsDown(32)) {
                // If they press spacebar then change the jump value from false to true
                jump = true
            }
            // Set jump to false if they're not jumping 
            else {
                jump = false
            }
        }

        function moveLeft() {
            // If they don't have the control debuff, then move left when they press "a"
            if (debuffControl == false) {
                if (keyIsDown(65)) {
                    cX -= 5
                }
            }
            // If they do have the control debuff, then move left when they press "w"
            else {
               if (keyIsDown(87)) {
                cX -= 5
               } 
            }
        }

        function moveRight() {
            // If they don't have the control debuff, then move right when they press "d"
            if (debuffControl == false) {
                if (keyIsDown(68)) {
                    cX += 5
                }
            }
            // If they do have the control debuff, then move right when they press "s"
            else {
               if (keyIsDown(83)) {
                cX += 5
               }
            }
        }
        

        function setup() {
            createCanvas(w,h)
        }


        // ---


        // Preload images
        function preload() {
            // Astronaut Player
            rightAstronautPlayer = loadImage('Player Astronaut.png')
            leftAstronautPlayer = loadImage('Walking Left Player Astronaut.png')

            // Venus Astronaut NPC
            // (Left Side)
            // (Left of Left Side)
            leftVenusLNPC = loadImage('Left Venus Astronaut (NPC).png')

            // (Right of Left Side)
            leftVenusRNPC = loadImage('Right Venus Astronaut (NPC).png')

            // Venus Astronaut NPC
            // Right Side
            // (Right of Right Side)
            rightVenusRNPC = loadImage('Right Venus Astronaut (NPC).png')

            // (Left of Right Side)
            rightVenusLNPC = loadImage('Left Venus Astronaut (NPC).png')
        }
        

        // ---


        // Ground/Platforms 


        // Ground
        function startingPlatform() {
            fill('rgba(253, 70, 89, 1)')
            rect(sPX,sPY,sPW,sPH)
        }

        // Platform #1  (Left Side)
        function platform1_1() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_1X,p1_1Y,p1_1W,p1_1H)
        }

        // Platform #1.2
        function platform1_2() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_2X,p1_2Y,p1_2W,p1_2H)
        }

        // Platform #1.3
        function platform1_3() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_3X,p1_3Y,p1_3W,p1_3H)
        }

        // Platform #1.4
        function platform1_4() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_4X,p1_4Y,p1_4W,p1_4H)
        }

        // Platform 1T
        function platform1T() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1TX,p1TY,p1TW,p1TH)
        }
        
        // Platform #1.5
        function platform1_5() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_5X,p1_5Y,p1_5W,p1_5H)
        }

        // Platform #1.6
        function platform1_6() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_6X,p1_6Y,p1_6W,p1_6H)
        }

        // Platform #1.6L
        function platform1_6L() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_6LX,p1_6LY,p1_6LW,p1_6LH)
        }

        // Platform #1.6R
        function platform1_6R() {
            fill('rgba(253, 70, 89, 1)')
            rect(p1_6RX,p1_6RY,p1_6RW,p1_6RH)
        }

        // Platform #2.1 (Right Side)
        function platform2_1() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_1X,p2_1Y,p2_1W,p2_1H)
        } 

        // Platform #2.2 
        function platform2_2() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_2X,p2_2Y,p2_2W,p2_2H)
        } 

        // Platform #2.3
        function platform2_3() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_3X,p2_3Y,p2_3W,p2_3H)
        }

        // Platform #2.4 
        function platform2_4() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_4X,p2_4Y,p2_4W,p2_4H)
        }

        // Platform 2T
        function platform2T() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2TX,p2TY,p2TW,p2TH)
        }

        // Platform #2.5
        function platform2_5() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_5X,p2_5Y,p2_5W,p2_5H)
        }

        // Platform #2.6
        function platform2_6() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_6X,p2_6Y,p2_6W,p2_6H)
        }
        
        // Platform #2.6L
        function platform2_6L() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_6LX,p2_6LY,p2_6LW,p2_6LH)
        }

        // Platform #2.6R
        function platform2_6R() {
            fill('rgba(253, 70, 89, 1)')
            rect(p2_6RX,p2_6RY,p2_6RW,p2_6RH)
        }


        // ---


        // Tokens


        function token1() {
            hitToken1 = collideRectCircle(cX,cY,cW,cH,t1X,t1Y,t1D)
            if (hitToken1 == true) {
                // If the player collides with the token, then track the amount of times the player collides with the tokens. 
                hitToken1Tracker += 1
                // Make the token transparent/disappear
                fill('rgba(0,0,0,0)')
                noStroke()
                circle(t1X,t1Y,t1D)
                // Give them the effect ONLY one time 
                if (hitToken1Tracker == 1) {
                    // NOTE: Alert the user what effect they received when they collide with the token 


                    // Generate a random number to see which random effect they will receive
                    let randomToken1Effect = (Math.floor(Math.random() * (tokenEffectsArr.length)))
                    // Switch their "a" & "d" control
                    if (tokenEffectsArr[randomToken1Effect] == "controlDebuff") {
                        debuffControl = true

                        // Create a text box alerting the user what effect they have received
                        // Create a DIV
                        let dCDiv = createDiv()
                        dCDiv.size(0.5 * w, 0.075 * h)
                        dCDiv.position(0.25 * w, 0.9 * h)
                        dCDiv.style('background-color','black')
                        dCDiv.style('border-radius','10px')

                        // Create a paragraph tag
                        let dCP = createP('You have just received a debuff. Your controls for moving right and left has been changed to "w" & "s".')
                        
                        dCP.style('font-family','Pixelify Sans')
                        dCP.style('font-size','20px')
                        dCP.style('color','white')
                        
                        // Make the paragraph's parent the div 
                        dCP.parent(dCDiv)

                        // Create a button to allow them to close the text box
                        let dCButton = createButton('X')
                        dCButton.position(0.485 * w,0)

                        dCButton.style('border-color','black')
                        dCButton.style('border-radius','10px')
                        dCButton.style('font-family','Pixelify Sans')
                        dCButton.style('font-size','20px')
                        dCButton.style('color','red')
                        dCButton.style('background-color','lightgray')

                        // Add a onclick function to the button to close the text box
                        dCButton.mouseClicked(closeDCDiv) 

                        function closeDCDiv() {
                            dCDiv.remove()
                        }

                        // Make the button's parents the div
                        dCButton.parent(dCDiv)
                    }
                    // TP the player back to the ground/start
                    else if (tokenEffectsArr[randomToken1Effect] == "tpDebuff") {
                        cX = w/2
                        cY = (0.65 * h)

                        // Create a text box alerting the user what effect they have received
                        // Create a DIV
                        let tpDiv = createDiv()
                        tpDiv.size(0.5 * w, 0.06 * h)
                        tpDiv.position(0.25 * w, 0.9 * h)
                        tpDiv.style('background-color','black')
                        tpDiv.style('border-radius','10px')

                        // Create a paragraph tag
                        let tpP = createP('You have just received a debuff. You have been TPed to the start of the level.')
                        
                        tpP.style('font-family','Pixelify Sans')
                        tpP.style('font-size','20px')
                        tpP.style('color','white')
                        
                        // Make the paragraph's parent the div 
                        tpP.parent(tpDiv)

                        // Create a button to allow them to close the text box
                        let tpButton = createButton('X')
                        tpButton.position(0.485 * w,0)

                        tpButton.style('border-color','black')
                        tpButton.style('border-radius','10px')
                        tpButton.style('font-family','Pixelify Sans')
                        tpButton.style('font-size','20px')
                        tpButton.style('color','red')
                        tpButton.style('background-color','lightgray')

                        // Add a onclick function to the button to close the text box
                        tpButton.mouseClicked(closeTPDiv) 

                        function closeTPDiv() {
                            tpDiv.remove()
                        }

                        // Make the button's parents the div
                        tpButton.parent(tpDiv)
                    }
                    // Decrease their jump power back to normal 
                    else if (tokenEffectsArr[randomToken1Effect] == "jumpDebuff") {
                        // If their jump power was increased before, then change it back to normal
                        if (lift == -13.5) {
                            lift = -12
                            
                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let jdDiv = createDiv()
                            jdDiv.size(0.5 * w, 0.06 * h)
                            jdDiv.position(0.25 * w, 0.9 * h)
                            jdDiv.style('background-color','black')
                            jdDiv.style('border-radius','10px')

                            // Create a paragraph tag
                            let jdP = createP('You have just received a debuff. Your jump power has been decreased back to normal.')
                            
                            jdP.style('font-family','Pixelify Sans')
                            jdP.style('font-size','20px')
                            jdP.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            jdP.parent(jdDiv)

                            // Create a button to allow them to close the text box
                            let jdButton = createButton('X')
                            jdButton.position(0.485 * w,0)

                            jdButton.style('border-color','black')
                            jdButton.style('border-radius','10px')
                            jdButton.style('font-family','Pixelify Sans')
                            jdButton.style('font-size','20px')
                            jdButton.style('color','red')
                            jdButton.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            jdButton.mouseClicked(closejdDiv) 

                            function closejdDiv() {
                                jdDiv.remove()
                            }

                            // Make the button's parents the div
                            jdButton.parent(jdDiv)
                        }  
                        // If their jump power wasn't increased before, then nothing happens
                        else {
                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let jd2Div = createDiv()
                            jd2Div.size(0.5 * w, 0.06 * h)
                            jd2Div.position(0.25 * w, 0.9 * h)
                            jd2Div.style('background-color','black')
                            jd2Div.style('border-radius','10px')

                            // Create a paragraph tag
                            let jd2P = createP('You have just received a debuff, but your jump power is already normal.')
                            
                            jd2P.style('font-family','Pixelify Sans')
                            jd2P.style('font-size','20px')
                            jd2P.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            jd2P.parent(jd2Div)

                            // Create a button to allow them to close the text box
                            let jd2Button = createButton('X')
                            jd2Button.position(0.485 * w,0)

                            jd2Button.style('border-color','black')
                            jd2Button.style('border-radius','10px')
                            jd2Button.style('font-family','Pixelify Sans')
                            jd2Button.style('font-size','20px')
                            jd2Button.style('color','red')
                            jd2Button.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            jd2Button.mouseClicked(closejd2Div) 

                            function closejd2Div() {
                                jd2Div.remove()
                            }

                            // Make the button's parents the div
                            jd2Button.parent(jd2Div)
                        }
                    }
                    // Nothing happens
                    else if (tokenEffectsArr[randomToken1Effect] == "nothing") {
                        // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let nDiv = createDiv()
                            nDiv.size(0.5 * w, 0.06 * h)
                            nDiv.position(0.25 * w, 0.9 * h)
                            nDiv.style('background-color','black')
                            nDiv.style('border-radius','10px')

                            // Create a paragraph tag
                            let nP = createP('You have just received nothing.')
                            
                            nP.style('font-family','Pixelify Sans')
                            nP.style('font-size','20px')
                            nP.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            nP.parent(nDiv)

                            // Create a button to allow them to close the text box
                            let nButton = createButton('X')
                            nButton.position(0.485 * w,0)

                            nButton.style('border-color','black')
                            nButton.style('border-radius','10px')
                            nButton.style('font-family','Pixelify Sans')
                            nButton.style('font-size','20px')
                            nButton.style('color','red')
                            nButton.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            nButton.mouseClicked(closeNDiv) 

                            function closeNDiv() {
                                nDiv.remove()
                            }

                            // Make the button's parents the div
                            nButton.parent(nDiv)
                    }
                    // Change their controls back to normal 
                    else if (tokenEffectsArr[randomToken1Effect] == "controlBuff") {
                        // Check if their control was reversed previously 
                        if (debuffControl == true) {
                            // Change the debuff to false
                            debuffControl = false

                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let cBDiv = createDiv()
                            cBDiv.size(0.5 * w, 0.06 * h)
                            cBDiv.position(0.25 * w, 0.9 * h)
                            cBDiv.style('background-color','black')
                            cBDiv.style('border-radius','10px')

                            // Create a paragraph tag
                            let cBP = createP('You have just received a buff. Your reversed controls was changed back to normal.')
                            
                            cBP.style('font-family','Pixelify Sans')
                            cBP.style('font-size','20px')
                            cBP.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            cBP.parent(cBDiv)

                            // Create a button to allow them to close the text box
                            let cBButton = createButton('X')
                            cBButton.position(0.485 * w,0)

                            cBButton.style('border-color','black')
                            cBButton.style('border-radius','10px')
                            cBButton.style('font-family','Pixelify Sans')
                            cBButton.style('font-size','20px')
                            cBButton.style('color','red')
                            cBButton.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            cBButton.mouseClicked(closeCBDiv) 

                            function closeCBDiv() {
                                cBDiv.remove()
                            }

                            // Make the button's parents the div
                            cBButton.parent(cBDiv)
                        }
                        // If their controls wasn't reversed before, then nothing happens
                        else {
                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let cB2Div = createDiv()
                            cB2Div.size(0.5 * w, 0.06 * h)
                            cB2Div.position(0.25 * w, 0.9 * h)
                            cB2Div.style('background-color','black')
                            cB2Div.style('border-radius','10px')

                            // Create a paragraph tag
                            let cB2P = createP('You have just received a buff, but your controls are already normal.')
                            
                            cB2P.style('font-family','Pixelify Sans')
                            cB2P.style('font-size','20px')
                            cB2P.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            cB2P.parent(cB2Div)

                            // Create a button to allow them to close the text box
                            let cB2Button = createButton('X')
                            cB2Button.position(0.485 * w,0)

                            cB2Button.style('border-color','black')
                            cB2Button.style('border-radius','10px')
                            cB2Button.style('font-family','Pixelify Sans')
                            cB2Button.style('font-size','20px')
                            cB2Button.style('color','red')
                            cB2Button.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            cB2Button.mouseClicked(closeCB2Div) 

                            function closeCB2Div() {
                                cB2Div.remove()
                            }

                            // Make the button's parents the div
                            cB2Button.parent(cB2Div)
                        }
                    }
                    // Increase their jump power
                    else if (tokenEffectsArr[randomToken1Effect] == "jumpBuff") {
                        lift = -13.5
                        // Create a text box alerting the user what effect they have received
                        // Create a DIV
                        let jBDiv = createDiv()
                        jBDiv.size(0.5 * w, 0.06 * h)
                        jBDiv.position(0.25 * w, 0.9 * h)
                        jBDiv.style('background-color','black')
                        jBDiv.style('border-radius','10px')

                        // Create a paragraph tag
                        let jBP = createP('You have just received a buff. Your jump power has been increased.')
                        
                        jBP.style('font-family','Pixelify Sans')
                        jBP.style('font-size','20px')
                        jBP.style('color','white')
                        
                        // Make the paragraph's parent the div 
                        jBP.parent(jBDiv)

                        // Create a button to allow them to close the text box
                        let jBButton = createButton('X')
                        jBButton.position(0.485 * w,0)

                        jBButton.style('border-color','black')
                        jBButton.style('border-radius','10px')
                        jBButton.style('font-family','Pixelify Sans')
                        jBButton.style('font-size','20px')
                        jBButton.style('color','red')
                        jBButton.style('background-color','lightgray')

                        // Add a onclick function to the button to close the text box
                        jBButton.mouseClicked(closeJBDiv) 

                        function closeJBDiv() {
                            jBDiv.remove()
                        }

                        // Make the button's parents the div
                        jBButton.parent(jBDiv)
                    }
                }
            }
            // If they didn't touch the token, then don't make it disappear 
            else if (hitToken1 == false && hitToken1Tracker == 0) {
                fill('yellow')
                noStroke()
                circle(t1X,t1Y,t1D)
            }
        }

        // Token #2
        function token2() {
            hitToken2 = collideRectCircle(cX,cY,cW,cH,t2X,t2Y,t2D)
            if (hitToken2 == true) {
                // If the player collides with the token, then track the amount of times the player collides with the tokens. 
                hitToken2Tracker += 1
                // Make the token transparent/disappear
                fill('rgba(0,0,0,0)')
                noStroke()
                circle(t2X,t2Y,t2D)
                // Give them the effect ONLY one time 
                if (hitToken2Tracker == 1) {
                    // NOTE: Alert the user what effect they received when they collide with the token 


                    // Generate a random number to see which random effect they will receive
                    let randomToken2Effect = (Math.floor(Math.random() * (tokenEffectsArr.length)))
                    // Switch their "a" & "d" control
                    if (tokenEffectsArr[randomToken2Effect] == "controlDebuff") {
                        debuffControl = true

                        // Create a text box alerting the user what effect they have received
                        // Create a DIV
                        let dCDiv = createDiv()
                        dCDiv.size(0.5 * w, 0.075 * h)
                        dCDiv.position(0.25 * w, 0.9 * h)
                        dCDiv.style('background-color','black')
                        dCDiv.style('border-radius','10px')

                        // Create a paragraph tag
                        let dCP = createP('You have just received a debuff. Your controls for moving right and left has been changed to "w" & "s".')
                        
                        dCP.style('font-family','Pixelify Sans')
                        dCP.style('font-size','20px')
                        dCP.style('color','white')
                        
                        // Make the paragraph's parent the div 
                        dCP.parent(dCDiv)

                        // Create a button to allow them to close the text box
                        let dCButton = createButton('X')
                        dCButton.position(0.485 * w,0)

                        dCButton.style('border-color','black')
                        dCButton.style('border-radius','10px')
                        dCButton.style('font-family','Pixelify Sans')
                        dCButton.style('font-size','20px')
                        dCButton.style('color','red')
                        dCButton.style('background-color','lightgray')

                        // Add a onclick function to the button to close the text box
                        dCButton.mouseClicked(closeDCDiv) 

                        function closeDCDiv() {
                            dCDiv.remove()
                        }

                        // Make the button's parents the div
                        dCButton.parent(dCDiv)
                    }
                    // TP the player back to the ground/start
                    else if (tokenEffectsArr[randomToken2Effect] == "tpDebuff") {
                        cX = w/2
                        cY = (0.65 * h)

                        // Create a text box alerting the user what effect they have received
                        // Create a DIV
                        let tpDiv = createDiv()
                        tpDiv.size(0.5 * w, 0.06 * h)
                        tpDiv.position(0.25 * w, 0.9 * h)
                        tpDiv.style('background-color','black')
                        tpDiv.style('border-radius','10px')

                        // Create a paragraph tag
                        let tpP = createP('You have just received a debuff. You have been TPed to the start of the level.')
                        
                        tpP.style('font-family','Pixelify Sans')
                        tpP.style('font-size','20px')
                        tpP.style('color','white')
                        
                        // Make the paragraph's parent the div 
                        tpP.parent(tpDiv)

                        // Create a button to allow them to close the text box
                        let tpButton = createButton('X')
                        tpButton.position(0.485 * w,0)

                        tpButton.style('border-color','black')
                        tpButton.style('border-radius','10px')
                        tpButton.style('font-family','Pixelify Sans')
                        tpButton.style('font-size','20px')
                        tpButton.style('color','red')
                        tpButton.style('background-color','lightgray')

                        // Add a onclick function to the button to close the text box
                        tpButton.mouseClicked(closeTPDiv) 

                        function closeTPDiv() {
                            tpDiv.remove()
                        }

                        // Make the button's parents the div
                        tpButton.parent(tpDiv)
                    }
                    // Decrease their jump power back to normal 
                    else if (tokenEffectsArr[randomToken2Effect] == "jumpDebuff") {
                        // If their jump power was increased before, then change it back to normal
                        if (lift == -13.5) {
                            lift = -12
                            
                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let jdDiv = createDiv()
                            jdDiv.size(0.5 * w, 0.06 * h)
                            jdDiv.position(0.25 * w, 0.9 * h)
                            jdDiv.style('background-color','black')
                            jdDiv.style('border-radius','10px')

                            // Create a paragraph tag
                            let jdP = createP('You have just received a debuff. Your jump power has been decreased back to normal.')
                            
                            jdP.style('font-family','Pixelify Sans')
                            jdP.style('font-size','20px')
                            jdP.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            jdP.parent(jdDiv)

                            // Create a button to allow them to close the text box
                            let jdButton = createButton('X')
                            jdButton.position(0.485 * w,0)

                            jdButton.style('border-color','black')
                            jdButton.style('border-radius','10px')
                            jdButton.style('font-family','Pixelify Sans')
                            jdButton.style('font-size','20px')
                            jdButton.style('color','red')
                            jdButton.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            jdButton.mouseClicked(closejdDiv) 

                            function closejdDiv() {
                                jdDiv.remove()
                            }

                            // Make the button's parents the div
                            jdButton.parent(jdDiv)
                        }  
                        // If their jump power wasn't increased before, then nothing happens
                        else {
                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let jd2Div = createDiv()
                            jd2Div.size(0.5 * w, 0.06 * h)
                            jd2Div.position(0.25 * w, 0.9 * h)
                            jd2Div.style('background-color','black')
                            jd2Div.style('border-radius','10px')

                            // Create a paragraph tag
                            let jd2P = createP('You have just received a debuff, but your jump power is already normal.')
                            
                            jd2P.style('font-family','Pixelify Sans')
                            jd2P.style('font-size','20px')
                            jd2P.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            jd2P.parent(jd2Div)

                            // Create a button to allow them to close the text box
                            let jd2Button = createButton('X')
                            jd2Button.position(0.485 * w,0)

                            jd2Button.style('border-color','black')
                            jd2Button.style('border-radius','10px')
                            jd2Button.style('font-family','Pixelify Sans')
                            jd2Button.style('font-size','20px')
                            jd2Button.style('color','red')
                            jd2Button.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            jd2Button.mouseClicked(closejd2Div) 

                            function closejd2Div() {
                                jd2Div.remove()
                            }

                            // Make the button's parents the div
                            jd2Button.parent(jd2Div)
                        }
                    }
                    // Nothing happens
                    else if (tokenEffectsArr[randomToken2Effect] == "nothing") {
                        // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let nDiv = createDiv()
                            nDiv.size(0.5 * w, 0.06 * h)
                            nDiv.position(0.25 * w, 0.9 * h)
                            nDiv.style('background-color','black')
                            nDiv.style('border-radius','10px')

                            // Create a paragraph tag
                            let nP = createP('You have just received nothing.')
                            
                            nP.style('font-family','Pixelify Sans')
                            nP.style('font-size','20px')
                            nP.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            nP.parent(nDiv)

                            // Create a button to allow them to close the text box
                            let nButton = createButton('X')
                            nButton.position(0.485 * w,0)

                            nButton.style('border-color','black')
                            nButton.style('border-radius','10px')
                            nButton.style('font-family','Pixelify Sans')
                            nButton.style('font-size','20px')
                            nButton.style('color','red')
                            nButton.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            nButton.mouseClicked(closeNDiv) 

                            function closeNDiv() {
                                nDiv.remove()
                            }

                            // Make the button's parents the div
                            nButton.parent(nDiv)
                    }
                    // Change their controls back to normal 
                    else if (tokenEffectsArr[randomToken2Effect] == "controlBuff") {
                        // Check if their control was reversed previously 
                        if (debuffControl == true) {
                            // Change the debuff to false
                            debuffControl = false

                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let cBDiv = createDiv()
                            cBDiv.size(0.5 * w, 0.06 * h)
                            cBDiv.position(0.25 * w, 0.9 * h)
                            cBDiv.style('background-color','black')
                            cBDiv.style('border-radius','10px')

                            // Create a paragraph tag
                            let cBP = createP('You have just received a buff. Your reversed controls was changed back to normal.')
                            
                            cBP.style('font-family','Pixelify Sans')
                            cBP.style('font-size','20px')
                            cBP.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            cBP.parent(cBDiv)

                            // Create a button to allow them to close the text box
                            let cBButton = createButton('X')
                            cBButton.position(0.485 * w,0)

                            cBButton.style('border-color','black')
                            cBButton.style('border-radius','10px')
                            cBButton.style('font-family','Pixelify Sans')
                            cBButton.style('font-size','20px')
                            cBButton.style('color','red')
                            cBButton.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            cBButton.mouseClicked(closeCBDiv) 

                            function closeCBDiv() {
                                cBDiv.remove()
                            }

                            // Make the button's parents the div
                            cBButton.parent(cBDiv)
                        }
                        // If their controls wasn't reversed before, then nothing happens
                        else {
                            // Create a text box alerting the user what effect they have received
                            // Create a DIV
                            let cB2Div = createDiv()
                            cB2Div.size(0.5 * w, 0.06 * h)
                            cB2Div.position(0.25 * w, 0.9 * h)
                            cB2Div.style('background-color','black')
                            cB2Div.style('border-radius','10px')

                            // Create a paragraph tag
                            let cB2P = createP('You have just received a buff, but your controls are already normal.')
                            
                            cB2P.style('font-family','Pixelify Sans')
                            cB2P.style('font-size','20px')
                            cB2P.style('color','white')
                            
                            // Make the paragraph's parent the div 
                            cB2P.parent(cB2Div)

                            // Create a button to allow them to close the text box
                            let cB2Button = createButton('X')
                            cB2Button.position(0.485 * w,0)

                            cB2Button.style('border-color','black')
                            cB2Button.style('border-radius','10px')
                            cB2Button.style('font-family','Pixelify Sans')
                            cB2Button.style('font-size','20px')
                            cB2Button.style('color','red')
                            cB2Button.style('background-color','lightgray')

                            // Add a onclick function to the button to close the text box
                            cB2Button.mouseClicked(closeCB2Div) 

                            function closeCB2Div() {
                                cB2Div.remove()
                            }

                            // Make the button's parents the div
                            cB2Button.parent(cB2Div)
                        }
                    }
                    // Increase their jump power
                    else if (tokenEffectsArr[randomToken2Effect] == "jumpBuff") {
                        lift = -13.5
                        // Create a text box alerting the user what effect they have received
                        // Create a DIV
                        let jBDiv = createDiv()
                        jBDiv.size(0.5 * w, 0.06 * h)
                        jBDiv.position(0.25 * w, 0.9 * h)
                        jBDiv.style('background-color','black')
                        jBDiv.style('border-radius','10px')

                        // Create a paragraph tag
                        let jBP = createP('You have just received a buff. Your jump power has been increased.')
                        
                        jBP.style('font-family','Pixelify Sans')
                        jBP.style('font-size','20px')
                        jBP.style('color','white')
                        
                        // Make the paragraph's parent the div 
                        jBP.parent(jBDiv)

                        // Create a button to allow them to close the text box
                        let jBButton = createButton('X')
                        jBButton.position(0.485 * w,0)

                        jBButton.style('border-color','black')
                        jBButton.style('border-radius','10px')
                        jBButton.style('font-family','Pixelify Sans')
                        jBButton.style('font-size','20px')
                        jBButton.style('color','red')
                        jBButton.style('background-color','lightgray')

                        // Add a onclick function to the button to close the text box
                        jBButton.mouseClicked(closeJBDiv) 

                        function closeJBDiv() {
                            jBDiv.remove()
                        }

                        // Make the button's parents the div
                        jBButton.parent(jBDiv)
                    }
                }
            }
            // If they didn't touch the token, then don't make it disappear 
            else if (hitToken2 == false && hitToken2Tracker == 0) {
                fill('yellow')
                noStroke()
                circle(t2X,t2Y,t2D)
            }
        }   

        function draw() {
            clear() 
            // Gravity
            jumpUp()
            gravity()

            // Moving left/right
            moveLeft()
            moveRight()

            // Player
            // Make the player face the other way when they're walking to the left. 

            // If the player doesn't have the debuff control AND they're walking left then make the astronaut face to the left. 
            if (keyIsDown(65) && debuffControl == false) {
                image(leftAstronautPlayer,cX,cY,cW,cH)
            }

            // If the player does have the debuff control AND they're walking left then make the astronaut face to the left. 
            else if (keyIsDown(87) && debuffControl == true) {
                image(leftAstronautPlayer,cX,cY,cW,cH)
            }
            
            // If they're not walking to the left
            else {
                image(rightAstronautPlayer,cX,cY,cW,cH)
            }
            noStroke()
            fill('rgba(0,0,0,0)')
            rect(cX,cY,cW,cH)

            // Ground/starting platform
            startingPlatform()

            // Platform 1.1
            platform1_1() 

            // Prevent the player from falling down if they're on the platform.
            // This means: if the player's X coordinates is greater than or equal to the platform's left side (edge) AND less than or equal to the platform's right side (edge) AND the player's Y coordinates is greater than or equal to the platform's top then stop the player from falling through the platform.
            if ((p1_1X <= cX + cW) && (cX - cW <= p1_1X + p1_1W - cW) && (cY + cH >= p1_1Y) && (cY + cH <= p1_1Y + p1_1H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }       

            // Platform 1.2
            platform1_2() 
            
            // Prevent the player from falling down if they're on the platform.
            if ((p1_2X <= cX + cW) && (cX - cW <= p1_2X + p1_2W - cW) && (cY + cH >= p1_2Y) && (cY + cH <= p1_2Y + p1_2H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 1.3
            platform1_3() 
            
            // Prevent the player from falling down if they're on the platform.
            if ((p1_3X <= cX + cW) && (cX - cW <= p1_3X + p1_3W - cW) && (cY + cH >= p1_3Y) && (cY + cH <= p1_3Y + p1_3H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            //  Platform 1.4
            platform1_4()

            // Prevent the player from falling down if they're on the platform.
            if ((p1_4X <= cX + cW) && (cX - cW <= p1_4X + p1_4W - cW) && (cY + cH >= p1_4Y) && (cY + cH <= p1_4Y + p1_4H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 1T
            platform1T()

            // Prevent the player from falling down if they're on the platform.
            if ((p1TX <= cX + cW) && (cX - cW <= p1TX + p1TW - cW) && (cY + cH >= p1TY) && (cY + cH <= p1TY + p1TH) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }     

            // Token 1
            token1()

            // Platform 1.5
            platform1_5()

            // Prevent the player from falling down if they're on the platform.
            if ((p1_5X <= cX + cW) && (cX - cW <= p1_5X + p1_5W - cW) && (cY + cH >= p1_5Y) && (cY + cH <= p1_5Y + p1_5H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }     

            // Platform 1.6
            platform1_6()

            // Prevent the player from falling down if they're on the platform.
            if ((p1_6X <= cX + cW) && (cX - cW <= p1_6X + p1_6W - cW) && (cY + cH >= p1_6Y) && (cY + cH <= p1_6Y + p1_6H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }     

            // Platform 1.6L
            platform1_6L()

            // Prevent the player from falling down if they're on the platform.
            if ((p1_6LX <= cX + cW) && (cX - cW <= p1_6LX + p1_6LW - cW) && (cY + cH >= p1_6LY) && (cY + cH <= p1_6LY + p1_6LH) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 1.6R
            platform1_6R()

            // Prevent the player from falling down if they're on the platform.
            if ((p1_6RX <= cX + cW) && (cX - cW <= p1_6RX + p1_6RW - cW) && (cY + cH >= p1_6RY) && (cY + cH <= p1_6RY + p1_6RH) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Left of Right Side NPC (Decoy)
            image(leftVenusLNPC,lVLX,lVLY,lVLW,lVLH)

            // Create dialogue if their mouse is on the NPC, they pressed it and they aren't currently talking to the NPC (to prevent from creating multiple dialogue boxes)
            // if ((mouse position is on NPC) AND (character is on the platform the NPC is on))
            if ( ( ((lVLX <= mouseX) && (lVLX + lVLW >= mouseX)) && ((lVLY <= mouseY) && (lVLY + lVLH >= mouseY)) && mouseIsPressed === true ) && ( (p1_6LX <= cX + cW) && (cX - cW <= p1_6LX + p1_6LW - cW) && (cY + cH >= p1_6LY) && (cY + cH <= p1_6LY + p1_6LH) && jump == false ) && trackLeftLNPC == 0) {
                noLoop()

                // Reset mouseIsPressed to false, because if it's kept true then the if statement will run even if their mouse is hovering the NPC (AFTER THEY PRESSED IT ONCE)
                mouseIsPressed = false

                // Add 1 to the tracker so they can't click it multiple times
                trackLeftLNPC += 1

                // Create DIV for dialogue box
                let dialogueDiv = createDiv()
                
                // Location of DIV
                dialogueDiv.position(0.25 * w, 0.25 * h)

                // DIV size
                dialogueDiv.size(0.5 * w, 0.5 * h)

                // Style the DIV
                dialogueDiv.style('background-color','black')
                dialogueDiv.style('border-radius','10px')
                
                // Create the dialogue text
                let dialogueText = createP("Hey there astronaut! You know, back in the day when I was just a wee ladwell, okay, maybe not THAT wee, but you get the ideaI decided to go on this grand adventure across Venus. Now, mind you, Venus ain't exactly the friendliest place in the solar system, what with its scorching heat and all, but hey, where's the fun without a bit of danger, am I right? I'll tell you the rest of the story later.")

                // Style the text
                dialogueText.style('font-family','Pixelify Sans')
                dialogueText.style('color','white')
                dialogueText.style('font-size','24px')
                dialogueText.id('dialogueText')

                // Make the DIV the parent of the text (p)
                dialogueText.parent(dialogueDiv)
                
                // Create a button to close the dialogue 
                let dialogueButton = createButton('X')

                // Make the button run a function when they click it
                dialogueButton.mouseClicked(closeDialogue)
                dialogueButton.size(0.025 * w, 0.035 * h)
                dialogueButton.position(0.475 * w, 0.467 * h)

                dialogueButton.style('color','red') 
                dialogueButton.style('font-size','24px')
                dialogueButton.style('font-family','Pixelify Sans')
                dialogueButton.style('border-radius','10px')

                dialogueButton.parent(dialogueDiv)

                // Function to close the dialogoue 
                function closeDialogue() {
                    // Put the button at a random position in the DIV box and change the dialogue text when they press the close button
                    if (trackLeftLNPC == 1) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "What? You want me to finish now? Fine! So there I was, trudging through the sulfuric acid clouds, dodging flaming meteor showers like they were nothing more than pesky mosquitoes. Oh, and let me tell you about the wildlife! Giant, fire-breathing space lizards the size of skyscrapers, swooping down from the skies like they owned the place. But did that stop me? Nah! Seriously though, you should go now. Travel safely!"

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftLNPC += 1
                    }
                    else if (trackLeftLNPC == 2) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "Why are you still here. Please leave."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftLNPC += 1
                    }
                    else if (trackLeftLNPC == 3) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "You want me to finish the entire story? Nah, I can't keep you waiting for this long."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftLNPC += 1
                    }
                    else if (trackLeftLNPC == 4) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "Alrighty fine, I'll finish the story. Long story short, I followed his instructions, did a little dance, channeled my inner Venusian warrior, and next thing you know, those fire ants were retreating faster than a comet streaking across the sky! Moral of the story? Never underestimate the power of a farmer with a plasma pitchfork and a ghostly mentor. Ah, good times, good times indeed. So, what brings you to Venus, eh?"

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftLNPC += 1
                    }
                    else if (trackLeftLNPC == 5) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "I pressed on, fueled by nothing but sheer determination and a questionable amount of caffeine. And just when I thought things couldn't get any crazier, I stumbled upon this ancient, mysterious temple buried deep beneath the surface. Now, I'm not one to back down from a challenge, so naturally, I waltzed right in."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftLNPC += 1
                    }
                    else if (trackLeftLNPC == 6) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "Inside, I faced traps that would make Indiana Jones blush, puzzles that would stump even the smartest AI, and guardians that... well, let's just say they weren't too keen on visitors. But after what felt like eons of trials and tribulations, I finally reached the inner sanctum."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftLNPC += 1
                    }
                    else if (trackLeftLNPC == 7) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "And you know what I found there? Absolutely nothing! Yep, just an empty room with a plaque that said, 'Congratulations, you've wasted your time.' But hey, it's all about the journey, right? And let me tell you, that journey was one heck of a ride! Alright, I'll see you later."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftLNPC += 1
                    }
                    // Close the Div box for real now
                    else if (trackLeftLNPC == 8) {
                        dialogueDiv.remove()
                        trackLeftLNPC = 0
                        loop()
                    }
                }
            } // Close the if statement for pressing the NPC 

            // Right of Right Side NPC (Decoy)  
            image(leftVenusRNPC,lVRX,lVRY,lVRW,lVRH)

            // Create dialogue if their mouse is on the NPC, they pressed it and they aren't currently talking to the NPC (to prevent from creating multiple dialogue boxes)
            // if ((mouse position is on NPC) AND (character is on the platform the NPC is on))
            if ( ( ((lVRX <= mouseX) && (lVRX + lVRW >= mouseX)) && ((lVRY <= mouseY) && (lVRY + lVRH >= mouseY)) && mouseIsPressed === true ) && ( (p1_6RX <= cX + cW) && (cX - cW <= p1_6RX + p1_6RW - cW) && (cY + cH >= p1_6RY) && (cY + cH <= p1_6RY + p1_6RH) && jump == false ) && trackLeftRNPC == 0) {
                noLoop()

                // Reset mouseIsPressed to false, because if it's kept true then the if statement will run even if their mouse is hovering the NPC (AFTER THEY PRESSED IT ONCE)
                mouseIsPressed = false

                // Add 1 to the tracker so they can't click it multiple times
                trackLeftRNPC += 1

                // Create DIV for dialogue box
                let dialogueDiv = createDiv()
                
                // Location of DIV
                dialogueDiv.position(0.25 * w, 0.25 * h)

                // DIV size
                dialogueDiv.size(0.5 * w, 0.5 * h)

                // Style the DIV
                dialogueDiv.style('background-color','black')
                dialogueDiv.style('border-radius','10px')
                
                // Create the dialogue text
                let dialogueText = createP("Hey there astronaut! You know I have actually been wandering this planet for ages, and let me tell you, I have an exciting and fun story. Oh, let me tell you about the time I tried to hike across Venus! Picture this: scorching heat, sulfuric acid rain, and no breathable air. It was like walking through a sauna in a toxic waste dump. But hey, I thought I was tough, right? So there I was, sweating like a Skaarj in a sauna, trudging through the Venusian wilderness. Ehhh I'm a little tired. I think I'll actually save the rest of the story for later.")

                // Style the text
                dialogueText.style('font-family','Pixelify Sans')
                dialogueText.style('color','white')
                dialogueText.style('font-size','24px')
                dialogueText.id('dialogueText')

                // Make the DIV the parent of the text (p)
                dialogueText.parent(dialogueDiv)
                
                // Create a button to close the dialogue 
                let dialogueButton = createButton('X')

                // Make the button run a function when they click it
                dialogueButton.mouseClicked(closeDialogue)
                dialogueButton.size(0.025 * w, 0.035 * h)
                dialogueButton.position(0.475 * w, 0.467 * h)

                dialogueButton.style('color','red') 
                dialogueButton.style('font-size','24px')
                dialogueButton.style('font-family','Pixelify Sans')
                dialogueButton.style('border-radius','10px')

                dialogueButton.parent(dialogueDiv)

                // Function to close the dialogoue 
                function closeDialogue() {
                    // Put the button at a random position in the DIV box and change the dialogue text when they press the close button
                    if (trackLeftRNPC == 1) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "What? You want me to finish before I go? Alrighty! And then, out of nowhere, I stumbled upon this colony of sentient fire ants. Can you believe it? Fire ants! They were about the size of a Tarbosaurus and twice as angry. One of 'em even tried to nibble on my space suit! I swear, I've never screamed so high in my life."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftRNPC += 1
                    }
                    else if (trackLeftRNPC == 2) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "But the real kicker? I finally made it to the so-called 'Oasis of Cool Breezes,' hoping for a refreshing break. You know what I found? A bunch of Venusian hipsters sipping on artisanal lava lattes and discussing the merits of solar-powered air conditioning. I mean, seriously? Who needs air conditioning when you're already living on a planet that could fry an egg on your forehead?"

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftRNPC += 1
                    }
                    else if (trackLeftRNPC == 3) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "Anyway, long story short, I high-tailed it back to my shuttle faster than you can say 'Mercury retrograde.' Venus might be the goddess of love and all that jazz, but let me tell you, she's got a serious attitude problem when it comes to visitors. Alright, story is over. I'm gonna go sleep. Bye!"

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackLeftRNPC += 1
                    }
                    // Close the Div box for real now
                    else if (trackLeftRNPC == 4) {
                        dialogueDiv.remove()
                        trackLeftRNPC = 0
                        loop()
                    }
                }
            } // Close the if statement for pressing the NPC 

            // Platform 2
            platform2_1()

            // Prevent the player from falling down if they're on the platform.
            if ((p2_1X <= cX + cW) && (cX - cW <= p2_1X + p2_1W - cW) && (cY + cH >= p2_1Y) && (cY + cH <= p2_1Y + p2_1H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2.2
            platform2_2() 

            // Prevent the player from falling down if they're on the platform.
            if ((p2_2X <= cX + cW) && (cX - cW <= p2_2X + p2_2W - cW) && (cY + cH >= p2_2Y) && (cY + cH <= p2_2Y + p2_2H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2.3
            platform2_3()

            // Prevent the player from falling down if they're on the platform.
            if ((p2_3X <= cX + cW) && (cX - cW <= p2_3X + p2_3W - cW) && (cY + cH >= p2_3Y) && (cY + cH <= p2_3Y + p2_3H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2.4
            platform2_4()

            // Prevent the player from falling down if they're on the platform.
            if ((p2_4X <= cX + cW) && (cX - cW <= p2_4X + p2_4W - cW) && (cY + cH >= p2_4Y) && (cY + cH <= p2_4Y + p2_4H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2T
            platform2T()

            // Token 2
            token2()

            // Prevent the player from falling down if they're on the platform.
            if ((p2TX <= cX + cW) && (cX - cW <= p2TX + p2TW - cW) && (cY + cH >= p2TY) && (cY + cH <= p2TY + p2TH) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2.5 
            platform2_5()

            // Prevent the player from falling down if they're on the platform.
            if ((p2_5X <= cX + cW) && (cX - cW <= p2_5X + p2_5W - cW) && (cY + cH >= p2_5Y) && (cY + cH <= p2_5Y + p2_5H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2.6
            platform2_6()

            // Prevent the player from falling down if they're on the platform.
            if ((p2_6X <= cX + cW) && (cX - cW <= p2_6X + p2_6W - cW) && (cY + cH >= p2_6Y) && (cY + cH <= p2_6Y + p2_6H) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2.6L
            platform2_6L()

            // Prevent the player from falling down if they're on the platform.
            if ((p2_6LX <= cX + cW) && (cX - cW <= p2_6LX + p2_6LW - cW) && (cY + cH >= p2_6LY) && (cY + cH <= p2_6LY + p2_6LH) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Platform 2.6R
            platform2_6R()

            // Prevent the player from falling down if they're on the platform.
            if ((p2_6RX <= cX + cW) && (cX - cW <= p2_6RX + p2_6RW - cW) && (cY + cH >= p2_6RY) && (cY + cH <= p2_6RY + p2_6RH) && jump == false) {
                // Make the character stay at the same height when they land on the platform
                cY = cY
                // Stop them from falling down
                velocity = 0
                // Reset jump tracker to let them jump when they land on the platform
                jumpTracker = 0
            }   

            // Left of Right Side NPC (Decoy)
            image(rightVenusLNPC,rVLX,rVLY,rVLW,rVLH)

            // Create dialogue if their mouse is on the NPC and they pressed it 
            // if ((mouse position is on NPC) AND (character is on the platform the NPC is on))
            if ( ( ((rVLX <= mouseX) && (rVLX + rVLW >= mouseX)) && ((rVLY <= mouseY) && (rVLY + rVLH >= mouseY)) && mouseIsPressed === true ) && ( (p2_6LX <= cX + cW) && (cX - cW <= p2_6LX + p2_6LW - cW) && (cY + cH >= p2_6LY) && (cY + cH <= p2_6LY + p2_6LH) && jump == false )) {
                noLoop()

                // Reset mouseIsPressed to false, because if it's kept true then the if statement will run even if their mouse is hovering the NPC (AFTER THEY PRESSED IT ONCE)
                mouseIsPressed = false

                // Add 1 to the tracker so they can't click it multiple times
                trackRightLNPC += 1

                // Create DIV for dialogue box
                let cDDiv = createDiv()
                
                // Location of DIV
                cDDiv.position(0.25 * w, 0.25 * h)

                // DIV size
                cDDiv.size(0.5 * w, 0.5 * h)

                // Style the DIV
                cDDiv.style('background-color','black')
                cDDiv.style('border-radius','10px')
                
                // Create the dialogue text
                let cDText = createP('Hey there astronaut! You have found the correct NPC. Do you want me to send you back so you can compelete the next level? (Press Yes to continue or No to stay)')

                // Style the text
                cDText.style('font-family','Pixelify Sans')
                cDText.style('color','white')
                cDText.style('font-size','24px')
                cDText.id('cDText')

                // Make the DIV the parent of the text (p)
                cDText.parent(cDDiv)
                
                // Create a button to close the dialogue 
                let tPYButton = createButton('Yes')

                // Make the button run a function when they click it
                tPYButton.mouseClicked(transferPage)
                tPYButton.size(0.0275 * w, 0.035 * h)
                tPYButton.position(0.445 * w, 0.467 * h)

                tPYButton.style('background-color','lightgreen') 
                tPYButton.style('color','darkgreen') 
                tPYButton.style('font-size','24px')
                tPYButton.style('font-family','Pixelify Sans')
                tPYButton.style('border-radius','10px')

                tPYButton.parent(cDDiv)

                // Function to transfer to the levels page
                function transferPage() {
                    // Set a variable to true to show that the player has completed the level
                    localStorage.setItem('l2Completion','true')
                    // Send them back to the levels page
                    location.href = "LevelsPage.html"
                }

                // Create a button to close the dialogue 
                let tPNButton = createButton('No')

                // Make the button run a function when they click it
                tPNButton.mouseClicked(cTPage)
                tPNButton.size(0.0275 * w, 0.035 * h)
                tPNButton.position(0.4725 * w, 0.467 * h)

                tPNButton.style('background-color','red') 
                tPNButton.style('color','darkred') 
                tPNButton.style('font-size','24px')
                tPNButton.style('font-family','Pixelify Sans')
                tPNButton.style('border-radius','10px')

                tPNButton.parent(cDDiv)

                // Function to close the dialogoue 
                function cTPage() {
                    cDDiv.remove()
                    trackRightLNPC = 0
                    loop()
                }
            }

            // Right of Right Side NPC (Decoy)  
            image(rightVenusRNPC,rVRX,rVRY,rVRW,rVRH)

            // Create dialogue if their mouse is on the NPC, they pressed it and they aren't currently talking to the NPC (to prevent from creating multiple dialogue boxes)
            // if ((mouse position is on NPC) AND (character is on the platform the NPC is on))
            if ( ( ((rVRX <= mouseX) && (rVRX + rVRW >= mouseX)) && ((rVRY <= mouseY) && (rVRY + rVRH >= mouseY)) && mouseIsPressed === true ) && ( (p2_6RX <= cX + cW) && (cX - cW <= p2_6RX + p2_6RW - cW) && (cY + cH >= p2_6RY) && (cY + cH <= p2_6RY + p2_6RH) && jump == false ) && trackRightRNPC == 0) {
                noLoop()

                // Reset mouseIsPressed to false, because if it's kept true then the if statement will run even if their mouse is hovering the NPC (AFTER THEY PRESSED IT ONCE)
                mouseIsPressed = false

                // Add 1 to the tracker so they can't click it multiple times
                trackRightRNPC += 1

                // Create DIV for dialogue box
                let dialogueDiv = createDiv()
                
                // Location of DIV
                dialogueDiv.position(0.25 * w, 0.25 * h)

                // DIV size
                dialogueDiv.size(0.5 * w, 0.5 * h)

                // Style the DIV
                dialogueDiv.style('background-color','black')
                dialogueDiv.style('border-radius','10px')
                
                // Create the dialogue text
                let dialogueText = createP("Hey there astronaut! You know I have actually been wandering this planet for ages, and let me tell you, I have an exciting and fun story. Back in the day, I was just a humble Venusian farmer, tending to my crops under that relentless sun. But let me tell you, it wasn't all sunshine and solar flares. One time, I was out in the fields, minding my own business, when suddenly, out of nowhere, this swarm of Venusian fire ants just comes charging at me like they've got a vendetta against all things human. I'm talking about ants the size of hovercars, with stingers sharper than a Martian laser blade!. Well, I'll save the rest of the story for later. Don't wanna keep you waiting.")

                // Style the text
                dialogueText.style('font-family','Pixelify Sans')
                dialogueText.style('color','white')
                dialogueText.style('font-size','24px')
                dialogueText.id('dialogueText')

                // Make the DIV the parent of the text (p)
                dialogueText.parent(dialogueDiv)
                
                // Create a button to close the dialogue 
                let dialogueButton = createButton('X')

                // Make the button run a function when they click it
                dialogueButton.mouseClicked(closeDialogue)
                dialogueButton.size(0.025 * w, 0.035 * h)
                dialogueButton.position(0.475 * w, 0.467 * h)

                dialogueButton.style('color','red') 
                dialogueButton.style('font-size','24px')
                dialogueButton.style('font-family','Pixelify Sans')
                dialogueButton.style('border-radius','10px')

                dialogueButton.parent(dialogueDiv)

                // Function to close the dialogoue 
                function closeDialogue() {
                    // Put the button at a random position in the DIV box and change the dialogue text when they press the close button
                    if (trackRightRNPC == 1) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "What? You want me to continue? Alrighty! So there I am, frantically trying to fend off these critters with nothing but my trusty plasma pitchfork, when all of a sudden, I hear this voice in my head. At first, I think it's the heat playing tricks on me, but nope, turns out it's the spirit of some ancient Venusian warrior, offering me guidance on how to defeat the ants. Can you believe it? Me, getting advice from a ghost! Seriously, you should go now. Safe travels!"

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackRightRNPC += 1
                    }
                    else if (trackRightRNPC == 2) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "Why are you still here. Please leave."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackRightRNPC += 1
                    }
                    else if (trackRightRNPC == 3) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "You want me to finish the story? Nah, I can't keep you waiting for this long."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackRightRNPC += 1
                    }
                    else if (trackRightRNPC == 4) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "Alrighty fine, I'll finish the story. Long story short, I followed his instructions, did a little dance, channeled my inner Venusian warrior, and next thing you know, those fire ants were retreating faster than a comet streaking across the sky! Moral of the story? Never underestimate the power of a farmer with a plasma pitchfork and a ghostly mentor. Ah, good times, good times indeed. So, what brings you to Venus, eh? End of the story. You should actually go leave."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackRightRNPC += 1
                    }
                    else if (trackRightRNPC == 5) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "Please leave me alone."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackRightRNPC += 1
                    }
                    else if (trackRightRNPC == 6) {
                        // Change the dialogue
                        document.getElementById('dialogueText').innerHTML = "I am begging you to leave. Like I said, story ended."

                        // Move the button to a random position in the dialogue box
                        dialogueButton.position(random(0, 0.475 * w), random(0, 0.467 * h))

                        // Add 1 to the tracker 
                        trackRightRNPC += 1
                    }
                    // Close the Div box for real now
                    else if (trackRightRNPC == 7) {
                        dialogueDiv.remove()
                        trackRightRNPC = 0
                        loop()
                    }
                }
            } // Close the if statement for pressing the NPC 
            
            // Create a settings menu for them to leave to the main menu 
            // Only create the button if the tracker is equal to 0 so it only creates it ONE time and not infinitely  
            if (settingsTracker == 0) {
                // Add one to the tracker to stop it from creating multiple buttons
                settingsTracker += 1

                // Create the button
                let settingsButton = createButton('')
                settingsButton.position(0.955 * w, 0.935 * h)
                settingsButton.size(0.035 * w, 0.0475 * h)

                // Make the button run a function when they click it 
                settingsButton.mouseClicked(settingsMenu)

                // Style the button
                settingsButton.style('background-color','rgb(0, 120, 202)')
                settingsButton.style('border-color','rgb(0, 120, 202)')
                settingsButton.style('color','white')
                settingsButton.style('font-weight','bold')
                settingsButton.style('font-size','32px')
                settingsButton.style('border-radius','50%')

                // Function to open the settings menu
                function settingsMenu() {
                    noLoop()
                    // Create the button only one time
                    if (settingsTracker == 1) {
                        settingsTracker += 1

                        // Create the resume button
                        let settingsResumeB = createButton('Resume')
                        settingsResumeB.position(0.4875 * w, 0.325 * h)
                        settingsResumeB.size(0.1 * w, 0.05 * h)

                        settingsResumeB.mouseClicked(settingsResume)

                        settingsResumeB.style('background-color','rgb(0, 120, 202)')
                        settingsResumeB.style('border-color','rgb(0, 120, 202)')
                        settingsResumeB.style('color','white')
                        settingsResumeB.style('font-weight','bold')
                        settingsResumeB.style('font-size','20px')
                        settingsResumeB.style('border-radius','10px')


                        function settingsResume() {
                            // Reset the settings tracker
                            settingsTracker = 0
                            
                            // Remove the resume button & the exit button
                            settingsResumeB.remove()
                            settingsExitB.remove()

                            // Continue the loop 
                            loop()
                        }

                        // Create the exit button
                        let settingsExitB = createButton('Go Back to Levels Page (Warning: Progress will not save!)')
                        settingsExitB.position(0.45 * w, 0.425 * h)
                        settingsExitB.size(0.181 * w, 0.05 * h)

                        settingsExitB.mouseClicked(settingsExit)

                        settingsExitB.style('background-color','rgb(0, 120, 202)')
                        settingsExitB.style('border-color','rgb(0, 120, 202)')
                        settingsExitB.style('color','white')
                        settingsExitB.style('font-weight','bold')
                        settingsExitB.style('font-size','20px')
                        settingsExitB.style('border-radius','10px')

                        // Send them to the levels page
                        function settingsExit() {
                            location.href = 'LevelsPage.html'
                        }
                    }

                    else {

                    }
                } // Close the if statement for the settings menu
            } 

            else {

            }   // Else statement for settings

        }

    </script>
</body>
</html>